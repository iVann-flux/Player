<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Private Player</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/controls.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/shaka-player.ui.min.js"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; background-color: #000; overflow: hidden; }
    #video-container { width: 100%; height: 100%; }
    video { width: 100%; height: 100%; }
    /* UI Color Theme */
    .shaka-range-element { color: #007bff !important; }
    .shaka-bottom-controls { display: flex; flex-direction: column; }
  </style>
</head>
<body>

  <div data-shaka-player-container id="video-container">
    <video autoplay playsinline id="video" data-shaka-player-display poster="https://blogger.googleusercontent.com/img/a/AVvXsEiGqaZeRBZ6Y7yV5ZYSRiNRhBa5q9_EMx7R5TJcHd3XJwwHh2YhNOGt76Y4vEcUIjvIaA7W-Tw1RyMLP-4WZwVHA4mk18zwXl7HdSL5WabprIasDOWJO7jpL0zTQB4p_y7X0Rv0xwe-cJ-GvxofAgeRp2FIiNgB90n_b8Cqw0sAaZqVhJg_fi9UyfSO8KY"></video>
  </div>

  <script>
    const manifestUri = "https://live-pv-ta.amazon.fastly-edge.com/sin-nitro/live/clients/dash/enc/5sxuux529k/out/v1/bb548a3626cd4708afbb94a58d71dce9/cenc.mpd";
    
    // DRM Keys (এগুলো পরিবর্তন হলে আপডেট করতে হবে)
    const clearKeys = {
      "1d96ab366bbe6451edf7407b58e2fa16": "0116201f4a63ac5bf5787d2c610c41a7"
    };

    async function init() {
      const video = document.getElementById('video');
      const container = document.getElementById('video-container');
      const player = new shaka.Player(video);
      const ui = new shaka.ui.Overlay(player, container, video);

      ui.configure({
        'controlPanelElements': ['play_pause', 'mute', 'volume', 'time_and_duration', 'spacer', 'quality', 'fullscreen']
      });

      player.configure({
        drm: { clearKeys: clearKeys },
        streaming: { lowLatencyMode: true }
      });

      try {
        await player.load(manifestUri);
        console.log('Video loaded successfully');
      } catch (error) {
        console.error('Error loading video', error);
      }
    }

    document.addEventListener('shaka-ui-loaded', init);
    
    // অটো-প্লে সাপোর্ট করার জন্য ক্লিক লিসেনার
    window.addEventListener('click', () => {
        const v = document.getElementById('video');
        if(v.muted) { v.muted = false; }
    }, {once: true});
  </script>
</body>
</html>
